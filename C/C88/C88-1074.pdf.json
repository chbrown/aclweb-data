{"sections":[{"title":"SAGE : a Sentence Parsing and Generation System","paragraphs":["Jean-Marie Lancel, Miyo Otani, Nathalie Shnonin"]},{"title":"Usp","paragraphs":["Sogeti Innoestion 118 rue de Tocque~ille, 75017 Pads, France E-mail: lancelOcsinn.uucp, otaniOc~inn.uucp, ~imon~tOcsin~t.eu~p","Laurence Danlos LADL - UNRS Tour Ueatrale, Uni~er~itg Pads VII, ,[ piac~ Ju~i~u, 75005 Pariz, France Abstracts: SAG~ (Sentence Analysis and GEneration system) is an operational parsing and generating system. It is used as a Natural Language Frontend for Esprit project Eeteam-316, whose purpose is to advise a novice user through a cooperative dialogue. The aim of our system is to validate the use of a Lexice)n-Grammar (drawn from the LADL studies) ior sentence-parsing and generation, and to imple~ ~aent )~nguistic knowledge in a declarative way u~- ing a formMism based upon Functional Descriptions (FD). We have ales devvloped the parser and the g~ueratio~ module so that they share informa~ tion~ and knowledge bases as much as possible: they work on the same semazLtic dictionary and the same linguistic knowledge bases, except th~ they kave their own graznmar. We have also ires p|emented a tracking of semantic objects that have been f~istantiated during a dialogue session: the so-called Token History is provided for semantic refvrence and anaphor resolution during parsing and for pronoun production during generation. After introducing to Esteam-316, this paper de- ,cribelJ the ~nguistic knowledge bases required by SAGE, and then foctmes on the Generation Modnleo Sv.ctlon 4 explains how pronouns are handled. The last section is a brief evaluation of our present WO1\"k o"]},{"title":":t ~introduction to the applicatioli of SAGE","paragraphs":["_ ne pro'sing and generating system described here ~ used as a Natural Language Frontend for F~., prlt project Esteam-316, which is an Advice-Gi~ ring system [Decitre 871 [Bruffaerts 86]0 A cooperative interactive Man-Machine Interface carries out dialogue functionalities such as recognition of user queries, explanation of domaln~concepts, explanation of solutions proposed by the Problem Solver, etc. To describe it briefly, this Dialogue Manager handles the pragmatic level of a dialogue, wherea~ the Natural Language Frontend SAGE deals with linguistic inferences° The chosen l~guage is }~nglish. The Dialogue Manager and SAGS ~h~re the same lemantic objects, using a formalism b~ed upon Functional Descriptions (FD~) [Kay 81]. The Parser of SAGE extracts the met~uing of the user's query mad represents it with nested FDs. Ox~ the other hand, the Dialogue Manager sends the Generator FDs which describe the semantic conte, nts of the answer. Our previous work [Lancel 86] was based on a unique dictionary and a granunar shared by both a parser and a generation module. The grammar formalism required the mixing of syntactic and semantic informations in the same structure, which implied the complete rewriting of grautmar when changing from one application domain to another. It could not handle transformational processes such as interrogative and imperative transformations° The system presented here fulfills the four following requirements:","1. definition of linguistic knowledge bases quit° able for both parsing and generation;","2. integration of lexicon-grammar theory into the previous fortnalism, in order to provide precise syntactic information; 8. modulari~ation: a change of application 359 should not lead to a complete rewriting, but only to an extension of the semantic levels; 4. proper pronoun h~dling, both when parsing"]},{"title":"I","paragraphs":["reference resolution) and when generating pronoun synthesis). The section 2 describes the linguistic dictionaries of SAGE. The section 3 explains how those dictionaries are exploited by the generation module. In the section 4, we will detail what kind of processes are required by pronoun handling."]},{"title":"2 Linguistic knowledge base for parsing and generation","paragraphs":["There are three linguistic levels handled by our sys~ tern: morphological, syntactic, and lastly semantic. The first one will not be explained here, since the","ost innovative aspects of our linguistic knowledge","es are provided by the two other levels: we are able to take into account a wide range of constructions of a given language using the lexicon~ grammar and we use a totally declarative formalism. 2.1 Parsing versus generation The main feature of SAGE is that the Parsing and Generation processed are carriedout using the same dictionaries. These dictionaries are interpreted by two separate grammars, one for parsing and one for generation, both of them being language-dependent but not lencies, with differeht levels of correctne~ for pa~ sing and generation. This allows a very wide ra~tge of sentence structures in generation, and semantic inferences to avoid ambiguities. The LADL Le~io con-Grammar covers nearly all French constr~c~ tione. As far as we know, an equlvaIent amount of work is still not available for English. There~ fore, we developed a Lexicon~Grammar cont~mg a few English verbs and nouns. The corresponding constructions are drawn from [LONGMAN 81]. To give an idea of this lexicon-grammar, we presen~ below the information stored for the verb tuanto","* The standaxd construction is [ Subject ~-' Verb ~ Direct Object ];","o The subject must be a bureau being; there° fore, it is a~lowed to be a noun group, but not clause or a verb phrase;",", The direct object may be a human being ~a *The mother wants her ch~d ~, a non-human eno tity as in \"He wants tim~, or a thai-clause ~ in \"Mary wants that John settles down in PariS;","® The ~hat-clau~e can be reduced in the follow~ ing forms:","- ]Noun group -~ Adjective] or NAd~ if the verb hf be (e.g \"The teacher wants the ~ze~is~ ready /or tomorroef );","- [Verb at the complete infinitive form -~ complements] or To Vin/O if the concept of the sub° ject of this clause is the same as that of the subo ject of want (e.g. ~Mary wants to settle down in","- [Noun group ~ Verb at the complete infinio","tive form -[- complements] or NTo Vinf when the","two subjects are different (e.g. \"Mary wants h~r","friend~ to settle down in Pari~.~);","® The whole cl~nse may be transformed into","the passive form. domain-dependent. This is a major conclusion drawn ~ ..","- . . for she sake of read~bifity and maintenaace, vexbs from our studies: a parser and a generatton moo- are so,ted into different tables. One table epecio ule can hardly share the same grammar rules, for the heuristics required by these two processes are fundamentally different. Unlike parsing, a generation process has nothing to do with a sequence of \"left-to-right ~ procedures [Danlos 87a, Danloe 87b]. Moreover, a given heuristic of clause tran~ formation is strongly dedicated to a parsing or to a generation process (see section 3)."]},{"title":"2.2 Syntactic Knowledge Base","paragraphs":["ties several standard features, syntactic construco tions as well as valencies that are common to evo ery verb of the same table. For inJtaace, in ot~' lexicon-grammar, want belongs to the table t~o ble_NV8 whose standard construction is ~ hur~t~ subject in a noun group, with a non-humu direct object in a noun group, construction of which may be transformed into the paasive form. Here is how one construction of the verb stunt i~ coded, using Fenctional Descriptions (FD): This syntactic level is domain-independent: constructions of verbs, predicative nouns and adjectives along with their corresponding valency are listed in a lexicon-grammar. This lexicon-grammar is based on the theory deveL oped by [Gross 75, Gross 86] and the studies carried out by the LADL on French constructions. It pro~ rides accurate specifications of the acceptable va~","syntax.want +~ [ table = tab.NVS linguiettc.defln|tioa ~- clause_ws~t verb = [ word -- want ] obJe~tl"]},{"title":"[ duct!oa = ((Tov fo xoo) (NAdJ 100)) = ((NToWf I00)) ] ]","paragraphs":["tab.NVS ~-~÷ 360","[ .ubject = [ distribution = ((*human 100)} noun.phzmm = {(noun.phrase I00)} ]","objectl = [ distribution = ( (*non.human I00)","(*human 100)"]},{"title":"}","paragraphs":["noun.phrmm = {(noun.phrase I00)} ] traneformation = ((passive 100)} ] The texical codes (NTo Vin/, To VinfO and NAd3) are specified in a FD, stating the conditions of validity of the code and the consequences on the com~ ponez~Lts: To VinfO should be chosen if the subject of the current sentence and that of the main clause represent the same concept; in this case the subject shouM be omitted and the verb should be in the infinitive form. The ~umeric values ranging from 0 up to 100, is a coefficient on the correctness of the corresponding constl~ctions. When generating a syntactic component, lexical codes that axe allowed are the ones .4 with a coefficient greater than a certain value, 70 in our implementation. When parsing sentences, accepted constructions would be of a coefficient greater than another milestone, 30 for instance. The values 0, 30, 70, 100 are of course quite arbitrary. But they allow the parsing of constructions that ~xe often understood by most of the people but m'e syntactically incorrect: the corresponding lexica~ codes will have a coefllcient between 30 and 70."]},{"title":"2.3 Semantic knowledge base","paragraphs":["The semantic level is highly domain-dependent since it dents with concepts. The application domain chose~ by the Esteam-316 project is financial advicegiving for non-expert users. Therefore, the Man-Machiue interface handles intention concepts such as *serface_requeet and *surface.inform which are the intention o/asklng/or something and the intention o/stating something, financial concepts such as *emergency_fend which is a certain amount of money available at ans/ time and provided for emergency c~ee, and lastly domain-independent concepts such as *t0ant ~. Those concepts are organised in a semantic net-work, using the links/s_a and ezample. Moreover, the semantic sub-items are specified in a aehemo. For instance, the concept *want is specified by: [ isj~ = *po6ltion echema =","[ actor = [ iLa = *human ] ZThe c~osen convention is to put a star a{ the beginning of a concept identifier, but this ls purely for the sake of readability. object"]},{"title":"] synthesis = ( [ Ung~istic~eflnition = clause_want ] ) ]","paragraphs":["As seen in section 2.1, the semantic objects ac~ tually handled by the user and system during a dialogue are called token& Inside the system, too kene are instances of concepts -- or more precisely d schemata ~."]},{"title":"2.4 Link between concepts and syntactic structures","paragraphs":["Mapping between semantic schemata and syntactic structures is ,pecified in FDs named llnguiatlc def. initions, This is am important feature of our KB: it is the linguistic definitions that make explicit the correspondance between token slots and syntactic components of sentences, clauses and noun groups° Using them, the same token may be synthesised as a noun phrase or a clause, according to syntactic constraints. A noun phrase or a clause require different grammar rules in the generation process. For instance, let us consider the following token : [ insta~tce-of = *transaction buyer = *Mary object = *car ] It may be expressed with a clause Mary buy8 ¢ car: meaning =","[ instance-of : *transaction","buyer = *Mary","object = *car ] subject = [ meaning = *Mary ] verb = [ word = buy ] object = [ meaning = *car ]] or with a noun phrase Mary% purchase of a car:. [ meaning =","[ instance_of ---- *transaction","buyer = *Mary","object -- *Car ] subjectlve.genltive -- [ meaning = *Mary ] predicative-noun = [ word = purchase ] objective-complement = [ meaning --- car ] ] The last two FDs shown above are the syntactic structuru produced by two different linguistic defo initions linked to the same concept *tra~sasKono The choice between the two is made by the generation module either under semantic constraLnts de. clared in the semantic dictionary, .or under linguistic restrictions specified by the generation grammar, or by the lexicon-grammar. 361 Linguistic definitions do not only allow the synthe~ sis of totally different schemata using the same generation grammar rules, but also provide the parser with extended capacities for handling complex noun phrases or sentences and for extracting a specific meaning with the specific slot identifiers (b~yer~ object, year) out of a standard syntactical construction of the noun~ or verb--predicate."]},{"title":"3 Generation 3.1 General heuristic of the Generation Module","paragraphs":["The generation process is top-down, with backtracking. The generation algorithm consists of build-ing a complex object of several nested FDs recursively. The highest level deals with the surface syntactic form: assertion, question, order. This level corresponds to the intention concepts like *surface_request Then comes the inner structure of the sentence: generally speaking, a subject, a verb and objects with several optional adverbials. This corresponds to doma~n-~oncepts (e.g,"]},{"title":"*smerfen. cy_/~nd}","paragraphs":["or general concepts (e.g."]},{"title":"*~ant).","paragraphs":["LMtly there is the noun group structure with preposition, determiner, noun. There is ~ specific grammar rule for each level. Briefly, a gr~nmax rule specifies under what con~ ditions a given rule may be applied, what kinds of rules are to be chosen for the synthesis of each Syntactic Component, and what actions are to be carried out on the structure (such as choosing the number and person of a verb according to the subject within a sentence}.","# • The current level is built in a loop starting from its semantic contents (a token}: through the concept corresponding to the token, the interpreter chooses a linguistic definition, then a syntactic structure in the lexicon-grammar. These FDs plus the corresponding grammar rule are functionally unified ~ with the current object. Then, one syntactic code such as To Vin]O or ~ou~-"]},{"title":"phrase is","paragraphs":["chosen according to the grmmmar rule and the validity condition of the code. The FD of th~ code is unified with the current object. This is where our declarative KBs baaed on Functional Descriptions prove to be ei~cient. The smn~ heuristic based on functional unification is used for totally different structures such as noun phrase or clause. Therefore, this loop is allowed to be totally recursive. ~n the meaning of yunctional ~nificai~on [Kay 81]. At this stage of the process, the generation modulo may add several modifiers to the current level~ that are adverbi~d~ in sentences, or adjectives in ~oun groups: this adjunction is a]~o carried through f~u~co tional unification since the modifiers ~e also d~ scribed in a FD just like any grammsx rule or le)~ ical code. For instance after functional unifications, the cur~ rent syntactic component corresponding to ~[ ~a~","ear\" is:","memdng = [ inatance~of = ~w~t actor ~ ~u~","subject [ memah~g = *u~r distribution = {(*human 100)) noun~ph~a~ = {(noun-ph~ 100)} ]","vorb = [ wo~ = w~nt ]","object1 = [ meaning = [ i~ta~c~.~ ~ *c~ ] distributlon = { (*noLkuman I00)"]},{"title":"(°~u~n ~oo)}","paragraphs":["reduction = ( (ToVinf0 100)","(NAdj 100)) clause = ((lgToVlnf X00)) noun.phr~m -~ {(noun-phr~m"]},{"title":"transformation -- ((pmmlvel 100)) ]00)) x ]","paragraphs":["Then trmmfomations are processed whenewr they are needed, such as for questions (which puts the verb in the interrogative form and inserts an ~uxiliary verb before the subject), or negations or pa~ sive transformations, ~ranaformations are speci~ fled in FDs similar to grammar rules, with validity conditious and actions,,but also with a specific slot stating whether they must be applied befm'e or ~- ter the standard grammar rules. Thk synthesk"]},{"title":"loop k carried out","paragraphs":["on every nynt~co tic suN-component, that is for instance on subject~ verb ud objects of a clause. If every sub-component is cmTectly synthesised in turn, the actions of the global rule are applied o~ the current component. Other tran~ormations may be cL~ri~cl out, lead~ ing only to the re, ordering of objects in a clauM, which may depend on whether the objects ere ex~ pre~ed through pronouu. A ditransitive/dat~ve transformation is a perfect example: st~rtlng from"]},{"title":"a","paragraphs":["sentence whose meaning is \"The poslman f~ea"]},{"title":"]t~c~'y l~.e letts~,,","paragraphs":["the final sentence may becmn~ ~The postman gi~es her the l~teP or ~The po~o. ma~ fg~ea it ~o Marl or \" The postmaa gi~es i~ ~ heP . There ends the body of the loop. If a failure o~ curs during this loop, backtracking choose~ another linguistic definition ~d/or .another grammar ruleo 362"]},{"title":"texte~ generatiox~","paragraphs":["~£h¢ f¢,llowing token, ~tade of several n~ted toke~,","sya~heahed ~ a~nder athat delay d~ you wat~ ~oar ~t~erCen~ fund a~ailablef~ i~: [ ha~t~ur~f =~ %~x~3quost ~oa~r = %yetem ~or¢~ = weak proposition =","propoa|tlo~ = [ h~tan~of= *w~ut","propo~itlon = [ h~stance~of = *e~erg~ncyAund agent = *ueer delay =- *unknown ]Ill The ,~ombintgio~ of the tokems %ur/aee.~cqge~ a~d '~in/o~c~.r~/produc¢~ a Wh-questiono The question focut~ on the delay of the token *emercency~und","~di,~r,d by ~he special object %akno~: ~his tr~ffm~m the ~IverbiM of delay of the ~trncture ~th~ ~n~rgeney fund is available ~t dd d~y~ into gh~ ~po~nd ~nt~rrogative pronoun ~der t~lmft d~l~, ~h~ ~t~_~c~ga~ive pronoun b~ moved to th~ b~g~,~ing ~' th~ ~ntence, coming from the n~ted ae~c~ fu~ a~a~bl~ f. As the verb of the ela~ ¢gpr~:a~ing the token %mtrf/sgty..fu~gd is ~o ge, the co.traction adopted for the direct object of the verb ~#s~t is NAd~: th~ verb ¢0 h~ is removed. The p~s~,ive your is synthesised from the slot a~en~ of th~ token %m~rqenc~/.~endo"]},{"title":"ronoun handling par o and generatio","paragraphs":["~th~ ° ~guh~ic ~brmation ~ needed for reference x~so]utlOno The ehsracteristic~ stored for each token are the tm~t ~mnber within the dialogue (~ turn ie over whenever one of the two locutors ha~ fiuished speaking), the sentence number within the tm~n~ the locutor (during pa~sing, the locutor is the ~mer, where~ during gen~ation, ~t is the system), the type of the token (entity or relation)~ and the linguistic ¢xpregsion (noun phrase, pronoun, demormtrative pronoun, clause). The Token History i~ updated by three proce~se~: the parsing module, the application (here the gsteam-316 Dislogue Manager) ~nd the generation ~odnle° Of comae, it i~ vexy hnporg~nt for the Di~log~e Mauager that if one token h produced by the parsing of one sentence, then the geueratlon module would synthesi~ the s~ne sentence from the same token. After analysis of the user~ sentence, the History is updated with the tokens of the sentence, which are all fn~t com~idered as new. The Dialogue Manager receives the new tokens~ sometimea with ~ list of former tokens to which a given new one mW refer: a typical ease i~ when a pronoun/~ found in the u~r~ sentence; th~n the parser h~ to rc~olv~ ref erences on morpholo~c~ syntactic ~md semantic gronnds~ in order to prepare the dialcger~s pragmatic inference. It i~ the Di~ogue Man~.ger whir.h is in charge of defining the final sta~as of e~.ch new token through pragmatic inferences: when it corresponds to a pronoun, the toke~ to which it refer8 otherwise, whether it ~ a redefinition of token previously used, or a totally new one. If a sentence generation ~ueceeds, the generation module updates the History with the linguistic ~n~ formation of the synthesised tokens."]},{"title":"4o~ ~ro~oun ~ynthesis","paragraphs":["~ro~ou~ handling requires the r~cord~ag of ~l gh~ ~;~n~:~eI~g ~¢~c~ (tokens)° A token may be an"]},{"title":"en~y (e.g. aa instance of the concept %at) or g x'~s~io~ b~tw~en e~ties (e.g. an instance d","paragraphs":["yo~ made ~ ~on~ i~es~meW~o~ the tokens are the wrong inv~tm~nt~), ~ud also the relation introdu¢,~d by Otag (¢Tou made zt wrong investments), ~nd the r¢lation cmg'esponding to the whole ~n-Du~i~g g d~bgu% the system record8 the~e token~ ~ g ~b~e~ llistory. Besides the token~ themselves, The generation grammar checks wheth~.r each item to be generated may be ~ynthesised by ~ pronoun° The first step is to choose the appropriate prono~tno *J~he second step consists of verifying that the cho~ son pronoun will not be ambiguous for the u~er according to the History of Token~0 The computing of the morphological for~ of th~ pronoun and the checking of ambiguity ~re very complex and require the handling of ~emantic, nyw tactic and morphological constraints° For precise explanations and comparison with other ~tudies, see [Danlos 88]. 363"]},{"title":"5 Evaluation of SAGE and its generation Module","paragraphs":["The parsing and generation grammar formalism are intended to support a changing from English to French. For instance, both the order of synthesis of the syntactic components of a clause or a noun phrase and the pronoun synthesis control are specified declaxatively. This allows the reusability and adaptability of this Natural Language Fron. tend through the creation of an adapted semantic dictionary and the extension of grammars, provided that the application is able to make inferences on semantic, or even pragmatical levels (which is the case of Eeteam-316 Dialogue Manager). SAGE runs on Sun workstations. It is able to parse complex assertions"]},{"title":"(I want to buy a car in rise years.),","paragraphs":["Yes/No questions"]},{"title":"(Could I put 500 dollars into my emergency-fund~),","paragraphs":["and ar.knowlegemen~ expressions"]},{"title":"( Yes. No. OK.~.","paragraphs":["rt c~m synthesise complex assertions with infinitive clauses and adverbials, imperative sentences, Yes/No-questions, and Wh-questlons. The interrogative pronouns of Wh-questions may stem either from the main clause (as in"]},{"title":"What do you buyf)","paragraphs":["or from nested clauses (as in"]},{"title":"How much do you want to investf).","paragraphs":["As far as we know in the generation realm, it seems that the most similar work is the synthesis system PHRED citejacobs. Sentence production in PHRED is a. recursive process divided into three phases: 1) pattern-concept fetch-Lug, 2) pattern restriction, and 3) pattern interpretation. Their objectives axe similar to 1) the choice of a linguistic definition, 2) the verification of semantic distribution and the application of a lexical code on the Syntactic Component, 3) the generation of the syntact sub-components. Other studies (Danlos, McKeown, Appelt) are more related to the strategies for text production than to sentence generation heuristics. It can also synthesise complex assertions with infinitive clauses and adverbials, imperative sentences, Yes/No-questions, and Wh-questions. The interrogative pronouns of Wh-questions may stem either from the main clause (as in"]},{"title":"What do you buyf}","paragraphs":["or from nested clauses (as in"]},{"title":"How much do you t~ant to investf).","paragraphs":["Pronoun handling is currently developed. [Danlos 88] Laurence Danlos, Fiammetta Namer,"]},{"title":"Morphological and cross dependencies in the synthesis of personal pronouns in Romance languages,","paragraphs":["Coling'88. [Danlos 87a] Laurence Danlos,"]},{"title":"A French and English Syntactic Gomponent for Generation,","paragraphs":["Natural Language Generation: New R.ssults in Artificial Intelligence, Psychology and Linguistics, Kempen G. ed, Dortrecht/Boston, Martinus Nijhoff Publishers, 1987. [Danlos 87b] Laurence Danlos,"]},{"title":"The linguistic basis of text generation,","paragraphs":["Cambridge University Press.","[Decitre 87] Paul Decitre, Thomas Grossi, C16o Jullien, Jean-Philippe Solwy,"]},{"title":"Planning for Problem-Solving in Advice-Gluing Dialogue,","paragraphs":["ACL European Chapter, Copenhague, 1987. [Gross 86] Maurice Grogs,"]},{"title":"Lexicon-Grammar,","paragraphs":["The"]},{"title":"Representation of Compound Words,","paragraphs":["llth International Conference on Computational Linguistics, Proceedings, Coling'86, 1986. [Gross 75] Maurice Gross,"]},{"title":"M~thodea en syntaze, R~gime des constructions compl~tlees,","paragraphs":["Hermann, 1975. [Jacobs 85] Paul S. Jacobs,"]},{"title":"PHRED: A Generator for Natural Language Interfaces,","paragraphs":["Computational Linguistics, Vol. 11, No 4, 1985. [Kay 81] Martin KAY,"]},{"title":"Unification Grammars, Xe-","paragraphs":["rox Publication, 1981.","(Lancel 86] Jean-Maxis Lancel, FranCois Rousselot, Nathalie Simonin,"]},{"title":"A Grammar used for Parsing and Generation,","paragraphs":["llth International Conference on Computational Linguistics, Proceedings, Coling'86, 1986. [Longman 81]"]},{"title":"Longman Dictionary of Contemporary English,","paragraphs":["Longman Group Limited, 1978, Corrections 1981. [Simonin 87] Nathalie Simonin,"]},{"title":"An Approach of Creo sting Structured Text,","paragraphs":["First European Workshop on Natural Laaguage Generation, Royanmont Abbey, 1987."]},{"title":"References","paragraphs":["[Bruffaerts 86] Bruffaerts A., Henin E. and Mar-"]},{"title":"lair V., An Expert System Prototype for Financial Counseling,","paragraphs":["Research Report 507, Philips Reseaxch Laboratory Brussels, 1986. 364"]}]}