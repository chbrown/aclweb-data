{"sections":[{"title":"","paragraphs":["Proceedings of the 50th Annual Meeting of the Association for Computational Linguistics, pages 666–674, Jeju, Republic of Korea, 8-14 July 2012. c⃝2012 Association for Computational Linguistics"]},{"title":"MIX Is Not a Tree-Adjoining Language Makoto Kanazawa National Institute of Informatics 2–1–2 Hitotsubashi, Chiyoda-ku Tokyo, 101–8430, Japan kanazawa@nii.ac.jp Sylvain Salvati INRIA Bordeaux Sud-Ouest, LaBRI 351, Cours de la Libération F-33405 Talence Cedex, France sylvain.salvati@labri.fr Abstract","paragraphs":["The language MIX consists of all strings over the three-letter alphabet {a,b,c} that contain an equal number of occurrences of each letter. We prove Joshi’s (1985) conjecture that MIX is not a tree-adjoining language."]},{"title":"1 Introduction","paragraphs":["The language","MIX = { w ∈{a,b,c}∗ ||w|a = |w|b = |w|c } has attracted considerable attention in computational linguistics.1","This language was used by Bach (1981) in an exercise to show that the permutation closure of a context-free language is not necessarily context-free.2","MIX may be considered a prototypical example of free word order language, but, as remarked by Bach (1981), it seems that no human language “has such complete freedom for order”, because “typically, certain constituents act as ‘boundary domains’ for scrambling”. Joshi (1985) refers to MIX as representing “an extreme case of the degree of free word order permitted in a language”, which is “linguistically not relevant”. Gazdar (1988) adopts a similar position regarding the relation between MIX","1","If w is a string and d is a symbol, we write |w|d to mean the number of occurrences of d in w. We will use the notation |w| to denote the length of w, i.e., the total number of occurrences of symbols in w.","2","According to Gazdar (1988), “MIX was originally described by Emmon Bach and was so-dubbed by students in the 1983 Hampshire College Summer Studies in Mathematics”. According to Bach (1988), the name MIX was “the happy in-vention of Bill Marsh”. and natural languages, noting that “it seems rather unlikely that any natural language will turn out to have a MIX-like characteristic”.","It therefore seems natural to assume that languages such as MIX should be excluded from any class of formal languages that purports to be a tight formal characterization of the possible natural languages. It was in this spirit that Joshi et al. (1991) suggested that MIX should not be in the class of so-called mildly context-sensitive languages: “[mildly context-sensitive grammars] capture only certain kinds of dependencies, e.g., nested dependencies and certain limited kinds of cross-serial dependencies (for example, in the subordinate clause constructions in Dutch or some variations of them, but perhaps not in the so-called MIX (or Bach) language) ....” Mild context-sensitivity is an informally defined notion first introduced by Joshi (1985); it consists of the three conditions of limited cross-serial dependencies, constant growth,andpolynomial parsing. The first condition is only vaguely formulated, but the other two conditions are clearly satisfied by tree-adjoining grammars. The suggestion of Joshi et al. (1991) was that MIX should be regarded as a violation of the condition of limited cross-serial dependencies.","Joshi (1985) conjectured rather strongly that MIX is not a tree-adjoining language: “TAGs cannot generate this language, although for TAGs the proof is not in hand yet”. An even stronger conjecture was made by Marsh (1985), namely, that MIX is not an 666 indexed language.3","(It is known that the indexed languages properly include the tree-adjoining languages.) Joshi et al. (1991), however, expressed a more pessimistic view about the conjecture: “It is not known whether TAG . . . can generate MIX. This has turned out to be averydifficult problem. In fact, it is not even known whether an IG [(indexed grammar)] can generate MIX.”","This open question has become all the more press-ing after a recent result by Salvati (2011). This result says that MIX is in the class of multiple context-free languages (Seki et al., 1991), or equivalently, languages of linear context-free rewriting systems (Vijay-Shanker et al., 1987; Weir, 1988), which has been customarily regarded as a formal counterpart of the informal notion of a mildly context-sensitive language.4","It means that either we have to abandon the identification of multiple context-free languages with mildly context-sensitive languages, or we should revise our conception of limited cross-serial dependencies and stop regarding MIX-like languages as violations of this condition. Surely, the resolution of Joshi’s (1985) conjecture should crucially affect the choice between these two alternatives.","In this paper, we prove that MIX is not a tree-adjoining language. Our proof is cast in terms of the formalism of head grammar (Pollard, 1984; Roach, 1987), which is known to be equivalent to TAG (Vijay-Shanker and Weir, 1994). The key to our proof is the notion of an n-decomposition of a string over {a,b,c}, which is similar to the notion of a derivation in head grammars, but independent of any particular grammar. The parameter n indicates how unbalanced the occurrence counts of the three let-ters can be at any point in a decomposition. We first","3","The relation of MIX with indexed languages is also of in-terest in combinatorial group theory. Gilman (2005) remarks that “it does not ...seem to be known whether or not the word problem of Z × Z is indexed”, alluding to the language O2 = { w ∈{a,ā,b,b̄}∗","||w|a = |w|ā,|w|b = |w| ̄","b }.SinceO2 and MIX are rationally equivalent, O2 is indexed if and only if MIX is indexed (Salvati, 2011).","4","Joshi et al. (1991) presented linear context-free rewriting systems as mildly context-sensitive grammars. Groenink (1997) wrote “The class of mildly context-sensitive languages seems to be most adequately approached by LCFRS.” show that if MIX is generated by some head grammar, then there is an n such that every string in MIX has an n-decomposition. We then prove that if every string in MIX has an n-decomposition, then every string in MIX must have a 2-decomposition. Finally, we exhibit a particular string in MIX that has no 2-decomposition. The length of this string is 87, and the fact that it has no 2-decomposition was first verified by a computer program accompanying this paper. We include here a rigorous, mathematical proof of this fact not relying on the computer verification."]},{"title":"2 Head Grammars","paragraphs":["A head grammar is a quadruple G = (N,Σ,P,S), where N is a finite set of nonterminals, Σis a finite set of terminal symbols (alphabet), S is a distinguished element of N,andP is a finite set of rules. Each nonterminal is interpreted as a binary predicate on strings in Σ∗",". There are four types of rules: A(x1 x2 y1,y2) ← B(x1,x2),C(y1,y2) A(x1,x2 y1 y2) ← B(x1,x2),C(y1,y2) A(x1 y1,y2 x2) ← B(x1,x2),C(y1,y2) A(w1,w2) ← Here, A,B,C ∈N, x1,x2,y1,y2 are variables,and w1,w2 ∈Σ∪{ε}.5","Rules of the first three types are binary rules and rules of the last type are terminating rules.Thisdefinition of a head grammar actually corresponds to a normal form for head grammars that appears in section 3.3 of Vijay-Shanker and Weir’s (1994) paper.6","The rules of head grammars are interpreted as implications from right to left, where variables can be instantiated to any terminal strings. Each binary","5","We use εto denote the empty string.","6","This normal form is also mentioned in chapter 5, section 4 of Kracht’s (2003) book. The notation we use to express rules of head grammars is borrowed from elementary formal systems (Smullyan, 1961; Arikawa et al., 1992), also known as literal movement grammars (Groenink, 1997; Kracht, 2003), which are logic programs over strings. In Vijay-Shanker and Weir’s (1994) notation, the four rules are expressed as follows: A → C2,2(B,C) A → C1,2(B,C) A → W(B,C) A → C1,1(w1 ↑w2) 667 rule involves an operation that combines two pairs of strings to form a new pair. The operation involved in the third rule is known as wrapping;the operations involved in the first two rules we call left concatenation and right concatenation, respectively. If G = (N,Σ,P,S) is a head grammar, A ∈N,and w1,w2 ∈Σ∗",", then we say that a fact A(w","1,w2)is derivable and write ⊢G A(w1,w2), if A(w1,w2) can be inferred using the rules in P. More formally, we have ⊢G A(w1,w2) if one of the following conditions holds: • A(w1,w2) ← is a terminating rule in P.","•⊢G B(u1,u2), ⊢G C(v1,v2), and there is a binary rule A(α1,α2) ← B(x1,x2),C(y1,y2)in P such that (w1,w2) is the result of substitut-ing u1,u2,v1,v2 for x1,x2,y1,y2, respectively, in (α1,α2). The language of G is L(G) = { w1w2 |⊢G S(w1,w2) }. Example 1. Let G = (N,Σ,P,S), where N = {S,A,A′",",C,D,E,F}, Σ={a,ā,#},andP consists of the following rules: S(x1 y1,y2 x2) ← D(x1,x2),C(y1,y2) C(ε,#) ← D(ε, ε) ← D(x1 y1,y2 x2) ← F(x1,x2),D(y1,y2) F(x1 y1,y2 x2) ← A(x1,x2),E(y1,y2) A(a,a) ← E(x1 y1,y2 x2) ← D(x1,x2),A′","(y1,y2)","A′ (ā,ā) ←","We have L(G) = { w#wR | w ∈D","{a,ā} },whereD{a,ā} is the Dyck language over {a,ā} and wR","is the reversal of w. All binary rules of this grammar are wrapping rules.","If ⊢G A(w1,w2), a derivation tree for A(w1,w2)is a finite binary tree whose nodes are labeled by facts that are derived during the derivation of A(w1,w2). A derivation tree for A(w1,w2) represents a “proof” of ⊢G A(w1,w2), and is formally defined as follows:","• If A(w1,w2) ← is a terminating rule, then a tree with a single node labeled by A(w1,w2)isa derivation tree for A(w1,w2). S(aaā āaā,#āaā āaa) D(aaā āaā,āaāāaa) F(aaā ā,āāaa) A(a,a) E(aā ā,āāa) D(aā,āa) F(aā,āa)","A(a,a) E(ā,ā) D(ε, ε) A′","(ā,ā) D(ε, ε)","A′ (ā,ā) D(aā,āa) F(aā,āa)","A(a,a) E(ā,ā) D(ε, ε) A′","(ā,ā) D(ε, ε) C(ε,#) Figure 1: An example of a derivation tree of a head grammar.","• If ⊢G A(w1,w2) is derived from ⊢G B(u1,u2) and ⊢G C(v1,v2) by some binary rule, then a binary tree whose root is labeled by A(w1,w2) and whose immediate left (right) subtree is a derivation tree for B(u1,u2) (for C(v1,v2), respectively) is a derivation tree for A(w1,w2). If w ∈L(G), a derivation tree for w is a derivation tree for some S(w1,w2) such that w1w2 = w. Example 1 (continued). Figure 1 shows a derivation tree for aaā āaā#āaā āaa.","The following lemma should be intuitively clear from the definition of a derivation tree: Lemma 1. Let G = (N,Σ,P,S) be a head grammar and A be a nonterminal in N. Suppose that w ∈ L(G) has a derivation tree in which a fact A(v1,v2) appears as a label of a node. Then there are strings z0,z1,z2 with the following properties: (i) w = z0v1z1v2z2, and (ii) ⊢G A(u1,u2) implies z0u1z1u2z2 ∈L(G). Proof. We can prove by straightforward induction on the height of derivation trees that whenever A(v1,v2) appears on a node in a derivation tree for B(w1,w2), then there exist z0,z1,z2,z3 that satisfy one of the following conditions:","(a) w1 = z0v1z1v2z2, w2 = z3,and⊢G A(u1,u2) implies ⊢G B(z0u1z1u2z2,z3).","(b) w1 = z0, w2 = z1v1z2v2z3,and⊢G A(u1,u2) implies ⊢G B(z0,z1u1z2u2z3). 668","(c) w1 = z0v1z1, w2 = z2v2z3,and⊢G A(u1,u2) implies ⊢G B(z0u1z1,z2u2z3). We omit the details. □","We call a nonterminal A of a head grammar Guseless if A does not appear in any derivation trees for strings in L(G). Clearly, useless nonterminals can be eliminated from any head grammar without affecting the language of the grammar."]},{"title":"3 Decompositions of Strings in MIX","paragraphs":["Henceforth, Σ={a,b,c}.LetZ denote the set of in-tegers. Define functions ψ1,ψ2 : Σ∗","→ Z, ψ: Σ∗","→ Z × Z by ψ1(w) = |w|a −|w|c, ψ2(w) = |w|b −|w|c, ψ(w) = (ψ1(w),ψ2(w)). Clearly, we have ψ(a) = (1,0),ψ(b) = (0,1),ψ(c) = (−1,−1), and w ∈MIX iff ψ(w) = (0,0).","Note that for all strings w1,w2 ∈Σ∗ , ψ(w","1w2) = ψ(w1)+ψ(w2). In other words, ψis a homomorphism from the free monoid Σ∗","to Z × Z with addition as the monoid operation and (0,0) as identity. Lemma 2. Suppose that G = (N,Σ,P,S) is a head grammar without useless nonterminals such that L(G) ⊆MIX. There exists a function ΨG : N → Z × Z such that ⊢G A(u1,u2) implies ψ(u1u2) =ΨG(A). Proof. Since G has no useless nonterminals, for each nonterminal A of G, there is a derivation tree for some string in L(G)inwhichA appears in a node label. By Lemma 1, there are strings z0,z1,z2 such that ⊢G A(u1,u2) implies z0u1z1u2z2 ∈L(G). Since L(G) ⊆MIX, we have ψ(z0u1z1u2z2) = (0,0), and hence ψ(u1u2) = −ψ(z0z1z2). □ A decomposition of w ∈Σ∗","is a finite binary tree","satisfying the following conditions:","• the root is labeled by some (w1,w2) such that w = w1w2,","• each internal node whose left and right children are labeled by (u1,u2)and(v1,v2), respectively, is labeled by one of (u1u2v1,v2), (u1,u2v1v2), (u1v1,v2u2).","• each leaf node is labeled by some (s1,s2)such","that s1 s2 ∈{b,c}∗ ∪{a,c}∗","∪{a,b}∗",". Thus, the label of an internal node in a decomposition is obtained from the labels of its children by left concatenation, right concatenation, or wrapping. It is easy to see that if G is a head grammar over the alphabet Σ, any derivation for w ∈L(G) induces a decomposition of w. (Just strip offnonterminals.) Note that unlike with derivation trees, we have placed no bound on the length of a string that may appear on a leaf node of a decomposition. This will be convenient in some of the proofs below.","When p and q are integers, we write [p,q]forthe set { r ∈Z | p ≤r ≤q }. We call a decomposition of w an n-decomposition if each of its nodes is labeled by some (v1,v2) such that ψ(v1v2) ∈[−n,n]×[−n,n]. Lemma 3. If MIX = L(G) for some head grammar G = (Σ,N,P,S), then there exists an n such that each w ∈MIX has an n-decomposition. Proof. We may suppose without loss of generality that G has no useless nonterminal. Since MIX = L(G), there is a function ΨG satisfying the condition of Lemma 2. Since the set N of nonterminals of G is finite, there is an n such that ΨG(A) ∈[−n,n] × [−n,n]forallA ∈N. Then it is clear that a derivation tree for w ∈L(G) induces an n-decomposition of w. □","If w = d1 ...dm ∈Σm",", then for 0 ≤i ≤ j ≤m, we write w[i,j] to refer to the substring di+1 ...d j of w. (As a special case, we have w[i,i] = ε.) The following is a key lemma in our proof: Lemma 4. If each w ∈ MIX has an n-decomposition, then each w ∈ MIX has a 2-decomposition. Proof. Assume that each w ∈ MIX has an n-decomposition. Define a homomorphism γn : Σ∗","→ Σ∗","by","γn(a) = an",",","γn(b) = bn",",","γn(c) = cn",". 669 Clearly, γn is an injection, and we have ψ(γn(v)) = n · ψ(v)forallv ∈Σ∗",".","Let w ∈MIX with |w| = m.Thenw′","= γn(w) ∈ MIX and |w′","| = mn. By assumption, w′","has an n-decomposition D. We assign a 4-tuple (i,j,k,l)of natural numbers to each node of D in such a way that (w′","[i,j],w′","[k,l]) equals the label of the node. This is done recursively in an obvious way, start-ing from the root. If the root is labeled by (w1,w2), then it is assigned (0,|w1|,|w1|,|w1w2|). If a node is assigned a tuple (i,j,k,l) and has two children labeledby(u1,u2)and(v1,v2), respectively, then the 4-tuples assigned to the children are determined according to how (u1,u2)and(v1,v2) are combined at the parent node: u1 u2 v1 v2i j kl i + |u1| i + |u1u2| u1 u2 v1 v2i j kl k + |u2| k + |u2v1| u1 v1 v2 u2i j kl i + |u1| k + |v2|","Now define a function f :[0,mn] →{kn | 0 ≤ k ≤m } by f (i) =    i if n divides i,","n ·⌊i/n⌋ if n does not divide i and w′","[i − 1,i] ∈{a,b},","n ·⌈i/n⌉ if n does not divide i and w′","[i − 1,i] = c.","Clearly, f is weakly increasing in the sense that i ≤j","implies f (i) ≤f ( j). Let D′","be the result of replacing","the label of each node in D by (w′","[ f (i),f ( j)],w′","[ f (k),f (l)]), where (i,j,k,l) is the 4-tuple of natural numbers assigned to that node by the above procedure. It is easy to see that D′","is another decomposition of w′",".Note that since each of f (i),f ( j),f (k),f (l)isanintegral multiple of n,wealwayshave (w′","[ f (i),f ( j)],w′","[ f (k),f (l)]) = (γn(u),γn(v)) for some substrings u,v of w. This implies that for h = 1,2,","ψh(w′ [ f (i),f ( j)]w′","[ f (k),f (l)]) is an integral multiple of n.","Claim. D′ is a 2n-decomposition. We have to show that every node label (v1,v2)inD′ satisfies ψ(v1v2) ∈[−2n,2n] × [−2n,2n]. For h = 1,2, define φh :[0,mn] × [0,mn] → Z as follows: φh(i,j) =   ψh(w′","[i,j]) if i ≤j, −ψh(w′","[ j,i]) otherwise.","Then it is easy to see that for all i,j,i′ ,j′","∈[0,mn],","φh(i′",",j′ ) = φh(i′",",i) + φh(i,j) + φh( j,j′","). Inspecting the definition of the function f , we can check that φh( f (i),i) ∈[0,n − 1] always holds. Suppose that (i,j,k,l) is assigned to a node in D. By assumption, we have ψh(w′","[i,j]w′","[k,l]) ∈[−n,n], and","ψh(w′ [ f (i),f ( j)]w′","[ f (k),f (l)])","= ψh(w′ [ f (i),f ( j)]) + ψh(w′","[ f (k),f (l)]) = φh( f (i),f ( j)) + φh( f (k),f (l)) = φh( f (i),i) + φh(i,j) + φh( j,f ( j)) + φh( f (k),k) + φh(k,l) + φh(l,f (l))","= φh( f (i),i) + ψh(w′","[i,j]) + φh( j,f ( j)) + φh( f (k),k) + ψh(w′","[k,l]) + φh(l,f (l))","= ψh(w′ [i,j]w′","[k,l]) + φh( f (i),i) + φh( f (k),k) + φh( j,f ( j)) + φh(l,f (l))","∈{p + q1 + q2 + r1 + r2 | p ∈[−n,n], q1,q2 ∈[0,n − 1],r1,r2 ∈[−n + 1,0] } = [−3n + 2,3n − 2].","Since ψh(w′","[ f (i),f ( j)]w′","[ f (k),f (l)]) must be an in-","tegral multiple of n, it follows that","ψh(w′ [ f (i),f ( j)]w′","[ f (k),f (l)]) ∈{−2n,−n,0,n,2n}. This establishes the claim. 670 We have shown that each node of D′","is labeled by","a pair of strings of the form (γn(u),γn(v)) such that ψ(γn(u)γn(v)) ∈ {−2n,−n,0,n,2n}×{−2n,−n,0,n,2n}. Now it is easy to see that inverting the homomorphism γn at each node of D′ (γn(u),γn(v)) ↦→ (u,v) gives a 2-decomposition of w. □"]},{"title":"4 A String in MIX That Has No 2-Decomposition","paragraphs":["By Lemmas 3 and 4, in order to prove that there is no head grammar for MIX, it suffices to exhibit a string in MIX that has no 2-decomposition. The following is such a string:","z = a5","b14","a19 c29","b15","a5",". In this section, we prove that the string z has no 2-decomposition.7","It helps to visualize strings in MIX as closed curves in a plane. If w is a string in MIX, by plotting the coordinates of ψ(v) for each prefix v of w, we can represent w by a closed curve C together with a map t :[0,|w|] →C. The representation of the string z is given in Figure 2.","Let us call a string w ∈{a,b,c}∗","such that ψ(w) ∈ [−2,2] × [−2,2] long if w contains all three letters, and short otherwise. (If ψ(w) [−2,2] × [−2,2], then w is neither short nor long.) It is easy to see that a short string w always satisfies |w|a ≤4, |w|b ≤4, |w|c ≤2. The maximal length of a short string is 6. (For example, a4","c2","and b4","c2","are short strings of length 6.) We also call a pair of strings (v1,v2) long (or short) if v1v2 is long (or short, respectively).","According to the definition of an n-decomposition, a leaf node in a 2-decomposition","7","This fact was first verified by the computer program accompanying this paper. The program, written in C, implements a generic, memoized top-down recognizer for the language { w ∈MIX | w has a 2-decomposition }, and does not rely on any special properties of the string z. 0 5 19 38 67 82 87 a5 b14 a19 c29 b15 a5","Figure 2: Graphical representation of the string z =","a5","b14 a19","c29","b15","a5",". Note that every point (i,j) on the di-","agonal segment has i > 7or j < −2. must be labeled by a short pair of strings. We call a 2-decomposition normal if the label of every internal node is long. Clearly, any 2-decomposition can be turned into a normal 2-decomposition by deleting all nodes that are descendants of nodes with short labels.","One important property of the string z is the following: Lemma 5. If z = x1vx2 and ψ(v) ∈[−2,2] × [−2,2], then either v or x1 x2 is short. Proof. This is easy to see from the graphical representation in Figure 2. If a substring v of z has ψ(v) ∈[−2,2] × [−2,2], then the subcurve corresponding to v must have initial and final coordinates whose difference lies in [−2,2] × [−2,2]. If v contains all three letters, then it must contain as a substring at least one of ba19","c, ac29","b,andcb15","a. The only way to satisfy both these conditions is to have the subcurve corresponding to v start and end very close to the origin, so that x1 x2 is short. (Note that the distance between the coordinate (5,0) corresponding to position 5 of z and the diagonal segment corresponding to the substring c29","is large enough that it is impossible for v to start at position 5 and end in the middle of c29","without violating the condition ψ(v) ∈[−2,2] × [−2,2].) □","Lemma 5 leads to the following observation. Let us call a decomposition of a string concatenation-free if each of its non-leaf labels is the wrapping of the labels of the children. 671 Lemma 6. If z has a 2-decomposition, then z has a normal, concatenation-free 2-decomposition. Proof. Let D be a 2-decomposition of z. Without loss of generality, we may assume that D is normal. Suppose that D contains a node μ whose label is the left or right concatenation of the labels of its children, (u1,u2)and(v1,v2). We only consider the case of left concatenation since the case of right concatenation is entirely analogous; so we suppose that the node μ is labeled by (u1u2v1,v2). It follows that z = x1u1u2 x2 for some x1,x2,and by Lemma 5, either u1u2 or x1 x2 is short. If u1u2 is short, then the left child of μ is a leaf because D is normal. We can replace its label by (u1u2,ε); the label (u1u2v1,v2)ofμ will now be the wrapping (as well as left concatenation) of the two child labels, (u1u2,ε)and(v1,v2). If x1 x2 is short, then we can combine by wrapping a single node labeled by (x1,x2) with the subtree of D rooted at the left child of μ, to obtain a new 2-decomposition of z.Ineither case, the result is a normal 2-decomposition of z with fewer instances of concatenation. Repeat-ing this procedure, we eventually obtain a normal, concatenation-free 2-decomposition of z. □","Another useful property of the string z is the following: Lemma 7. Suppose that the following conditions hold: (i) z = x1u1v1yv2u2 x2, (ii) x1yx2 is a short string, and","(iii) both ψ(u1u2) and ψ(v1v2) are in [−2,2] × [−2,2]. Then either (u1,u2) or (v1,v2) is short. Proof. Suppose (u1,u2)and(v1,v2) are both long. Since (u1,u2)and(v1,v2) must both contain c, either u1 ends in c and v1 starts in c,orelsev2 ends in c and u2 starts in c.","Case 1. u1 ends in c and v1 starts in c.Since (v1,v2) must contain at least one occurrence of a, the string v1yv2 must contain cb15","a as a substring.","a5","b14","a19","c29","b15","a5 v1yv2","Since x1yx2 is short, we have |y|b ≤4. It follows that","|v1v2|b ≥11. But v1yv2 is a substring of c28","b15","a5",",","so |v1v2|a ≤ 5. This clearly contradicts ψ(v1v2) ∈","[−2,2] × [−2,2]. Case 2. v2 ends in c and u2 starts in c.Inthis","case, cb15","a5","is a suffixofu2 x2.Sincex1yx2 is short,","|x2|a ≤4. This means that cb15","a is a substring of u2 and hence |u2|b = 15.","a5","b14","a19","c29","b15","a5 u2 x2v1yv2u1 On the other hand, since (v1,v2) must contain at least one occurrence of b, the string v1yv2 must contain ba19","c as a substring. This implies that |u1u2|a ≤10. But since |u2|b = 15, we have |u1u2|b ≥ 15. This clearly contradicts ψ(u1u2) ∈[−2,2] × [−2,2]. □","We now assume that z has a normal, concatenation-free 2-decomposition D and derive a contradiction. We do this by following a certain path in D. Starting from the root, we descend in D, always choosing a non-leaf child, as long as there is one. We show that this path will never terminate.","The i-th node on the path will be denoted by μi, counting the root as the 0-th node. The label of μi will be denoted by (wi,1,wi,2). With each i, we associate three strings xi,1,yi,xi,2 such that xi,1wi,1yiwi,2 xi,2 = z, analogously to Lemma 1. Since ψ(wi,1wi,2) ∈[−2,2] × [−2,2] and ψ(z) = (0,0), we will always have ψ(xi,1yi xi,2) ∈[−2,2] × [−2,2].","Initially, (w0,1,w0,2) is the label of the root μ0 and x0,1 = y0 = x0,2 = ε.Ifμi is not a leaf node, let (ui,1,ui,2)and(vi,1,vi,2) be the labels of the left and right children of μi, respectively. If the left child is not a leaf node, we let μi+1 be the left child, in which case we have (wi+1,1,wi+1,2) = (ui,1,ui,2), xi+1,1 = xi,1, xi+1,2 = xi,2,andyi+1 = vi,1yvi,2.Otherwise, μi+1 will be the right child of μi,andwe have (wi+1,1,wi+1,2) = (vi,1,vi,2), xi+1,1 = xi,1ui,1, xi+1,2 = ui,2 xi,2,andyi+1 = yi.","The path μ0,μ1,μ2,...is naturally divided into two parts. The initial part of the path consists of nodes where xi,1yi xi,2 is short. Note that x0,1y0 x0,2 = εis short. As long as xi,1yi xi,2 is short, (wi,1,wi,2) must be long and μi has two children labeled by (ui,1,ui,2)and(vi,1,vi,2). By Lemma 7, either (ui,1,ui,2)or(vi,1,vi,2) must be short. Since the length 672 of z is 87 and the length of a short string is at most 6, exactly one of (ui,1,ui,2)and(vi,1,vi,2) must be long.","We must eventually enter the second part of the path, where xi,1yi xi,2 is no longer short. Let μm be the first node belonging to this part of the path. Note that at μm,wehaveψ(xm,1ym xm,2) = ψ(xm−1,1ym−1 xm−1,2) + ψ(v) for some short string v. (Namely, v = um−1,1um−1,2 or v = vm−1,1vm−1,2.) Lemma 8. If u and v are short strings and ψ(uv) ∈ [−2,2] × [−2,2],then|uv|d ≤4 for each d ∈{a,b,c}. Proof. Since u and v are short, we have |u|a ≤ 4,|u|b ≤4,|u|c ≤2and|v|a ≤4,|v|b ≤4,|v|c ≤2. It immediately follows that |uv|c ≤4. We distinguish two cases.","Case 1. |uv|c ≤2. Since ψ(uv) ∈[−2,2] × [−2,2], we must have |uv|a ≤4and|uv|b ≤4.","Case 2. |uv|c ≥3. Since |u|c ≤2and|v|c ≤2, we must have |u|c ≥1and|v|c ≥1. Also, ψ(uv) ∈ [−2,2] × [−2,2] implies that |uv|a ≥1and|uv|b ≥1. Since u and v are short, it follows that one of the following two conditions must hold: (i) |u|a ≥1,|u|b = 0and|v|a = 0,|v|b ≥1. (ii) |u|a = 0,|u|b ≥1and|v|a ≥1,|v|b = 0. In the former case, |uv|a = |u|a ≤4and|uv|b = |v|b ≤ 4. In the latter case, |uv|a = |v|a ≤ 4and|uv|b = |u|b ≤4. □","By Lemma 8, the number of occurrences of each letter in xm,1ym xm,2 is in [1,4]. This can only be if","xm,1xm,2 = a j ,","ym = ck bl",", for some j,k,l ∈[1,4]. This means that the string z must have been split into two strings (w0,1,w0,2)at the root of D somewhere in the vicinity of position 67 (see Figure 2). It immediately follows that for all i ≥m, wi,1 is a substring of a5","b14","a19","c28","and w","i,2 is a substring of","b14 a5",". We show by induction that for all i ≥m,the","following condition holds:","(†) ba19 c17","is a substring of w i,1. The condition (†) clearly holds for i = m.Nowassume (†). Then (wi,1,wi,2) is long, and μi has left and right children, labeled by (ui,1,ui,2)and(vi,1,vi,2), respectively, such that wi,1 = ui,1vi,1 and wi,2 = vi,2ui,2. We consider two cases.","Case 1. ui,1 contains c.Thenba19","c is a substring of ui,1.Sinceui,2 is a substring of b14","a5",", it cannot contain any occurrences of c.Sinceψ1(ui,1ui,2) ∈ [−2,2], it follows that ui,1 must contain at least 17 occurrences of c; hence ba19","c17","is a substring of ui,1. Since (ui,1,ui,2) is long, (wi+1,1,wi+1,2) = (ui,1,ui,2). Therefore, the condition (†) holds with i + 1inplace of i.","Case 2. ui,1 does not contain c.Then(ui,1,ui,2)is short and (wi+1,1,wi+1,2) = (vi,1,vi,2). Note that vi,1 must contain at least 17 occurrences of c,butvi,2 is a substring of b14","a5","and hence cannot contain more than 14 occurrences of b.Sinceψ2(vi,1vi,2) ∈[−2,2], it follows that vi,1 must contain at least one occurrence of b. Therefore, ba19","c17","must be a substring of vi,1 = wi+1,1, which shows that (†) holds with i + 1 in place of i.","We have proved that (†) holds for all i ≥m.Itfollows that for all i, μi has two children and hence μi+1 is defined. This means that the path μ0,μ1,μ2,... is infinite, contradicting the assumption that D is a 2-decomposition of z.","We have proved the following: Lemma 9. There is a string in MIX that has no 2-decomposition. Theorem 10. There is no head grammar G such that L(G) = MIX. Proof. Immediate from Lemmas 3, 4, and 9. □"]},{"title":"References","paragraphs":["Setsuo Arikawa, Takeshi Shinohara, and Akihiro Yamamoto. 1992. Learning elementary formal systems. Theoretical Computer Science, 95(1):97–113.","Emmon Bach. 1981. Discontinuous constituents in generalized categorial grammars. In Victoria Burke and James Pustejovsky, editors, Proceedings of the 11th Annual Meeting of the North East Linguistic Society, pages 1–12.","Emmon Bach. 1988. Categorial grammars as theories of language. In Richard T. Oehrle, Emmon Bach, and Deirdre Wheeler, editors, Categorial Grammars and Natural Language Structures, pages 17–34. D. Reidel, Dordrecht. 673","Gerald Gazdar. 1988. Applicability of indexed grammars to natural languages. In U. Reyle and C. Rohrer, editors, Natural Language Parsing and Linguistic The-ories, pages 69–94. D. Reidel Publishing Company, Dordrecht.","Robert Gilman. 2005. Formal languages and their application to combinatorial group theory. In Alexandre V. Borovik, editor, Groups, Languages, Algorithms, number 378 in Contemporary Mathematics, pages 1–36. American Mathematical Society, Providence, RI.","Annius V. Groenink. 1997. Mild context-sensitivity and tuple-based generalizations of context-free grammar. Linguistics and Philosophy, 20:607–636.","Aravind K. Joshi, Vijay K. Shanker, and David J. Weir. 1991. The converence of mildly context-sensitive grammar formalisms. In Peter Sells, Stuart M. Shieber, and Thomas Wasow, editors, Foundational Issues in Natural Language Processing, pages 31–81. The MIT Press, Cambridge, MA.","Aravind K. Joshi. 1985. Tree-adjoining grammars: How much context sensitivity is required to provide reasonable structural descriptions? In David Dowty, Lauri Karttunen, and Arnold M. Zwicky, editors, Natural Language Parsing, pages 206–250. Cambridge University Press, Cambridge.","Markus Kracht. 2003. The Mathematics of Language, volume 63 of Studies in Generative Grammar. Mouton de Gruyter, Berlin.","William Marsh. 1985. Some conjectures on indexed languages. Paper presented to the Association for Symbolic Logic Meeting, Stanford University, July 15–19. Abstract appears in Journal of Symbolic Logic 51(3):849 (1986).","Carl J. Pollard. 1984. Generalized Phrase Structure Grammars, Head Grammars, and Natural Language. Ph.D. thesis, Department of Linguistics, Stanford University.","Kelly Roach. 1987. Formal properties of head grammars. In Alexis Manaster-Ramer, editor, Mathematics of Language, pages 293–347. John Benjamins, Amsterdam.","Sylvain Salvati. 2011. MIX is a 2-MCFL and the word problem in Z2","is captured by the IO and the OI hierarchies. Technical report, INRIA.","Hiroyuki Seki, Takashi Matsumura, Mamoru Fujii, and Tadao Kasami. 1991. On multiple context free grammars. Theoretical Computer Science, 88(2):191–229.","Raymond M. Smullyan. 1961. Theory of Formal Systems. Princeton University Press, Princeton, NJ.","K. Vijay-Shanker and D. J. Weir. 1994. The equivalence of four extensions of context-free grammars. Mathematical Systems Theory, 27:511–546.","K. Vijay-Shanker, David J. Weir, and Aravind K. Joshi. 1987. Characterizing structural descriptions produced by various grammatical formalisms. In 25th Annual Meeting of the Association for Computational Linguistics, pages 104–111.","David J. Weir. 1988. Characterizing Mildly Context-Sensitive Grammar Formalisms. Ph.D. thesis, University of Pennsylvania, Philadephia, PA. 674"]}],"references":[{"authors":[{"first":"Setsuo","last":"Arikawa"},{"first":"Takeshi","last":"Shinohara"},{"first":"Akihiro","last":"Yamamoto"}],"year":"1992","title":"Learning elementary formal systems"},{"authors":[{"first":"Emmon","last":"Bach"}],"year":"1981","title":"Discontinuous constituents in generalized categorial grammars"},{"authors":[{"first":"Emmon","last":"Bach"}],"year":"1988","title":"Categorial grammars as theories of language"},{"authors":[{"first":"Gerald","last":"Gazdar"}],"year":"1988","title":"Applicability of indexed grammars to natural languages"},{"authors":[{"first":"Robert","last":"Gilman"}],"year":"2005","title":"Formal languages and their application to combinatorial group theory"},{"authors":[{"first":"Annius V","middle":".","last":"Groenink"}],"year":"1997","title":"Mild context-sensitivity and tuple-based generalizations of context-free grammar"},{"authors":[{"first":"Aravind","middle":"K.","last":"Joshi"},{"first":"Vijay","middle":"K.","last":"Shanker"},{"first":"David","middle":"J.","last":"Weir"}],"year":"1991","title":"The converence of mildly context-sensitive grammar formalisms"},{"authors":[{"first":"Aravind","middle":"K.","last":"Joshi"}],"year":"1985","title":"Tree-adjoining grammars: How much context sensitivity is required to provide reasonable structural descriptions? In David Dowty, Lauri Karttunen, and Arnold M"},{"authors":[{"first":"Markus","last":"Kracht"}],"year":"2003","title":"The Mathematics of Language, volume 63 of Studies in Generative Grammar"},{"authors":[{"first":"William","last":"Marsh"}],"year":"1985","title":"Some conjectures on indexed languages"},{"authors":[{"first":"Carl","middle":"J.","last":"Pollard"}],"year":"1984","title":"Generalized Phrase Structure Grammars, Head Grammars, and Natural Language"},{"authors":[{"first":"Kelly","last":"Roach"}],"year":"1987","title":"Formal properties of head grammars"},{"authors":[]},{"authors":[]},{"authors":[{"first":"Hiroyuki","last":"Seki"},{"first":"Takashi","last":"Matsumura"},{"first":"Mamoru","last":"Fujii"},{"first":"Tadao","last":"Kasami"}],"year":"1991","title":"On multiple context free grammars"},{"authors":[{"first":"Raymond","middle":"M.","last":"Smullyan"}],"year":"1961","title":"Theory of Formal Systems"},{"authors":[{"first":"K.","last":"Vijay-Shanker"},{"first":"D.","middle":"J.","last":"Weir"}],"year":"1994","title":"The equivalence of four extensions of context-free grammars"},{"authors":[{"first":"K.","last":"Vijay-Shanker"},{"first":"David","middle":"J.","last":"Weir"},{"first":"Aravind","middle":"K.","last":"Joshi"}],"year":"1987","title":"Characterizing structural descriptions produced by various grammatical formalisms"},{"authors":[{"first":"David","middle":"J.","last":"Weir"}],"year":"1988","title":"Characterizing Mildly Context-Sensitive Grammar Formalisms"}],"cites":[{"authors":[{"last":"Joshi’s"}],"year":"1985","style":0},{"authors":[{"last":"Bach"}],"year":"1981","style":0,"reference":{"authors":[{"first":"Emmon","last":"Bach"}],"year":"1981","title":"Discontinuous constituents in generalized categorial grammars"}},{"authors":[{"last":"Bach"}],"year":"1981","style":0,"reference":{"authors":[{"first":"Emmon","last":"Bach"}],"year":"1981","title":"Discontinuous constituents in generalized categorial grammars"}},{"authors":[{"last":"Joshi"}],"year":"1985","style":0,"reference":{"authors":[{"first":"Aravind","middle":"K.","last":"Joshi"}],"year":"1985","title":"Tree-adjoining grammars: How much context sensitivity is required to provide reasonable structural descriptions? In David Dowty, Lauri Karttunen, and Arnold M"}},{"authors":[{"last":"Gazdar"}],"year":"1988","style":0,"reference":{"authors":[{"first":"Gerald","last":"Gazdar"}],"year":"1988","title":"Applicability of indexed grammars to natural languages"}},{"authors":[{"last":"Gazdar"}],"year":"1988","style":0,"reference":{"authors":[{"first":"Gerald","last":"Gazdar"}],"year":"1988","title":"Applicability of indexed grammars to natural languages"}},{"authors":[{"last":"Bach"}],"year":"1988","style":0,"reference":{"authors":[{"first":"Emmon","last":"Bach"}],"year":"1988","title":"Categorial grammars as theories of language"}},{"authors":[{"last":"Joshi"},{"last":"al."}],"year":"1991","style":0,"reference":{"authors":[{"first":"Aravind","middle":"K.","last":"Joshi"},{"first":"Vijay","middle":"K.","last":"Shanker"},{"first":"David","middle":"J.","last":"Weir"}],"year":"1991","title":"The converence of mildly context-sensitive grammar formalisms"}},{"authors":[{"last":"Joshi"}],"year":"1985","style":0,"reference":{"authors":[{"first":"Aravind","middle":"K.","last":"Joshi"}],"year":"1985","title":"Tree-adjoining grammars: How much context sensitivity is required to provide reasonable structural descriptions? In David Dowty, Lauri Karttunen, and Arnold M"}},{"authors":[{"last":"Joshi"},{"last":"al."}],"year":"1991","style":0,"reference":{"authors":[{"first":"Aravind","middle":"K.","last":"Joshi"},{"first":"Vijay","middle":"K.","last":"Shanker"},{"first":"David","middle":"J.","last":"Weir"}],"year":"1991","title":"The converence of mildly context-sensitive grammar formalisms"}},{"authors":[{"last":"Joshi"}],"year":"1985","style":0,"reference":{"authors":[{"first":"Aravind","middle":"K.","last":"Joshi"}],"year":"1985","title":"Tree-adjoining grammars: How much context sensitivity is required to provide reasonable structural descriptions? In David Dowty, Lauri Karttunen, and Arnold M"}},{"authors":[{"last":"Marsh"}],"year":"1985","style":0,"reference":{"authors":[{"first":"William","last":"Marsh"}],"year":"1985","title":"Some conjectures on indexed languages"}},{"authors":[{"last":"Joshi"},{"last":"al."}],"year":"1991","style":0,"reference":{"authors":[{"first":"Aravind","middle":"K.","last":"Joshi"},{"first":"Vijay","middle":"K.","last":"Shanker"},{"first":"David","middle":"J.","last":"Weir"}],"year":"1991","title":"The converence of mildly context-sensitive grammar formalisms"}},{"authors":[{"last":"Salvati"}],"year":"2011","style":0},{"authors":[{"last":"Seki"},{"last":"al."}],"year":"1991","style":0,"reference":{"authors":[{"first":"Hiroyuki","last":"Seki"},{"first":"Takashi","last":"Matsumura"},{"first":"Mamoru","last":"Fujii"},{"first":"Tadao","last":"Kasami"}],"year":"1991","title":"On multiple context free grammars"}},{"authors":[{"last":"Vijay-Shanker"},{"last":"al."}],"year":"1987","style":0,"reference":{"authors":[{"first":"K.","last":"Vijay-Shanker"},{"first":"David","middle":"J.","last":"Weir"},{"first":"Aravind","middle":"K.","last":"Joshi"}],"year":"1987","title":"Characterizing structural descriptions produced by various grammatical formalisms"}},{"authors":[{"last":"Weir"}],"year":"1988","style":0,"reference":{"authors":[{"first":"David","middle":"J.","last":"Weir"}],"year":"1988","title":"Characterizing Mildly Context-Sensitive Grammar Formalisms"}},{"authors":[{"last":"Joshi’s"}],"year":"1985","style":0},{"authors":[{"last":"Pollard"}],"year":"1984","style":0,"reference":{"authors":[{"first":"Carl","middle":"J.","last":"Pollard"}],"year":"1984","title":"Generalized Phrase Structure Grammars, Head Grammars, and Natural Language"}},{"authors":[{"last":"Roach"}],"year":"1987","style":0,"reference":{"authors":[{"first":"Kelly","last":"Roach"}],"year":"1987","title":"Formal properties of head grammars"}},{"authors":[{"last":"Vijay-Shanker"},{"last":"Weir"}],"year":"1994","style":0,"reference":{"authors":[{"first":"K.","last":"Vijay-Shanker"},{"first":"D.","middle":"J.","last":"Weir"}],"year":"1994","title":"The equivalence of four extensions of context-free grammars"}},{"authors":[{"last":"Gilman"}],"year":"2005","style":0,"reference":{"authors":[{"first":"Robert","last":"Gilman"}],"year":"2005","title":"Formal languages and their application to combinatorial group theory"}},{"authors":[{"last":"Salvati"}],"year":"2011","style":0},{"authors":[{"last":"Joshi"},{"last":"al."}],"year":"1991","style":0,"reference":{"authors":[{"first":"Aravind","middle":"K.","last":"Joshi"},{"first":"Vijay","middle":"K.","last":"Shanker"},{"first":"David","middle":"J.","last":"Weir"}],"year":"1991","title":"The converence of mildly context-sensitive grammar formalisms"}},{"authors":[{"last":"Groenink"}],"year":"1997","style":0,"reference":{"authors":[{"first":"Annius V","middle":".","last":"Groenink"}],"year":"1997","title":"Mild context-sensitivity and tuple-based generalizations of context-free grammar"}},{"authors":[{"last":"Vijay-Shanker"},{"last":"Weir’s"}],"year":"1994","style":0},{"authors":[{"last":"Kracht’s"}],"year":"2003","style":0},{"authors":[{"last":"Smullyan"}],"year":"1961","style":0,"reference":{"authors":[{"first":"Raymond","middle":"M.","last":"Smullyan"}],"year":"1961","title":"Theory of Formal Systems"}},{"authors":[{"last":"Arikawa"},{"last":"al."}],"year":"1992","style":0,"reference":{"authors":[{"first":"Setsuo","last":"Arikawa"},{"first":"Takeshi","last":"Shinohara"},{"first":"Akihiro","last":"Yamamoto"}],"year":"1992","title":"Learning elementary formal systems"}},{"authors":[{"last":"Groenink"}],"year":"1997","style":0,"reference":{"authors":[{"first":"Annius V","middle":".","last":"Groenink"}],"year":"1997","title":"Mild context-sensitivity and tuple-based generalizations of context-free grammar"}},{"authors":[{"last":"Kracht"}],"year":"2003","style":0,"reference":{"authors":[{"first":"Markus","last":"Kracht"}],"year":"2003","title":"The Mathematics of Language, volume 63 of Studies in Generative Grammar"}},{"authors":[{"last":"Vijay-Shanker"},{"last":"Weir’s"}],"year":"1994","style":0}]}
